import{_ as w,r as g,a as b,b as k,d as e,w as v,g as c,v as d,o as y,u as _,l as T}from"./index-ClT0-aa1.js";const h={class:"login"},x={class:"container"},S={class:"form-floating"},B={class:"form-floating"},E={__name:"Login",setup(R){function u(n){let o=null;if(document.cookie&&document.cookie!==""){const s=document.cookie.split(";");for(let r=0;r<s.length;r++){const a=s[r].trim();if(a.substring(0,n.length+1)===n+"="){o=decodeURIComponent(a.substring(n.length+1));break}}}return o}const t=g({form:{username:"",password:""}}),m=_(),p=b(),f=async()=>{var r,a,i,l;if((r=t.form.username)!=null&&r.trim()){if(!((i=t.form.password)!=null&&i.trim())){window.alert("패스워드를 입력해주세요."),(l=document.getElementById("password"))==null||l.focus();return}}else{window.alert("이메일을 입력해주세요."),(a=document.getElementById("username"))==null||a.focus();return}const n=u("XSRF-TOKEN");console.log("CSRF Token:",n);const o={"X-XSRF-TOKEN":n,"Content-Type":"application/json"},s=await T(t.form,{headers:o});switch(s.status){case 200:p.setAccessToken(s.data),await m.push("/");break;case 404:window.alert("입력하신 정보와 일치하는 회원이 없습니다.");break}};return(n,o)=>(y(),k("div",h,[e("div",x,[e("form",{class:"py-5 d-flex flex-column gap-3",onSubmit:v(f,["prevent"])},[o[4]||(o[4]=e("h1",{class:"h5 mb-3"},"로그인",-1)),e("div",S,[c(e("input",{type:"email",class:"form-control",id:"username",placeholder:"이메일","onUpdate:modelValue":o[0]||(o[0]=s=>t.form.username=s)},null,512),[[d,t.form.username]]),o[2]||(o[2]=e("label",{for:"username"},"이메일",-1))]),e("div",B,[c(e("input",{type:"password",class:"form-control",id:"password",placeholder:"패스워드","onUpdate:modelValue":o[1]||(o[1]=s=>t.form.password=s)},null,512),[[d,t.form.password]]),o[3]||(o[3]=e("label",{for:"password"},"패스워드",-1))]),o[5]||(o[5]=e("button",{type:"submit",class:"w-100 h6 btn py-3 btn-primary"},"로그인",-1))],32)])]))}},I=w(E,[["__scopeId","data-v-3b3a42ce"]]);export{I as default};
